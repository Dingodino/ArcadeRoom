#ifndef STYLESERVICE_H
#define STYLESERVICE_H

#include <QObject>
#include <QString>
#include <QMap>
#include "style.h"

class StyleService : public QObject
{
    Q_OBJECT


private:

    //====================================================================================
    // Constructors
    //====================================================================================

    /***********************************************************
     * @brief Create a service to manage styles.
     ***********************************************************/
    StyleService();


public:

    //====================================================================================
    // Accessors
    //====================================================================================

    static StyleService*                getInstance();

    Style*                              getCurrentStyle();
    void                                setCurrentStyle(QString a_sName);


    //====================================================================================
    // Operations
    //====================================================================================

    /***********************************************************
     * @brief Load all styles.
     ***********************************************************/
    void                                loadStyles();


signals:

    //====================================================================================
    // Signals
    //====================================================================================

    /***********************************************************
     * @brief Called when a style is selected.
     * @param a_pStyle : selected style
     ***********************************************************/
    void                                styleSelected(Style* a_pStyle);


private:

    //====================================================================================
    // Private Operations
    //====================================================================================

    /***********************************************************
     * @brief Apply the current style.
     ***********************************************************/
    void                                _applyStyle();


    //====================================================================================
    // Fields
    //====================================================================================

    static StyleService*                m_pInstance;

    // Styles and current selected style
    QMap<QString, Style*>               m_StyleMap;
    Style*                              m_pCurrentStyle;
};

#endif // STYLESERVICE_H
